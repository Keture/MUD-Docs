export function mu(t,e="\n",a="\n",r="\t"){function c(t,e,a,r=null,c=null){for(;t.includes(e);)t=t.replace(e,r?"<"+a+"><"+r+">":"<"+a+">"),t=t.replace(c||e,r?"</"+r+"></"+a+">":"</"+a+">");return t}let l=t.split(a),p=[],h=new RegExp("^"+r+"+","g");return l.forEach((t,e)=>{let a=!1,s=(t.match(h)||[[]])[0].length,i=l[e-1]?(l[e-1].match(h)||[[]])[0].length:null,o=l[e+1]?(l[e+1].match(h)||[[]])[0].length:null;s>=0&&(t.startsWith(r.repeat(s)+t.match(/\*|\+|-/))||t.startsWith("> "+r.repeat(s)+t.match(/\*|\+|-/)))&&(a=!1,(t.startsWith(r.repeat(s)+t.match(/\*|\+|-/)+" ")||t.startsWith("> "+r.repeat(s)+t.match(/\*|\+|-/)+" "))&&(t=null!=i&&(l[e-1].startsWith(r.repeat(i)+l[e-1].match(/\*|\+|-/)+" ")||l[e-1].startsWith("> "+r.repeat(i)+l[e-1].match(/\*|\+|-/)+" "))?i>s?t.replace(r.repeat(s)+t.match(/\*|\+|-/)+" ","</ul>".repeat(i-s)+"<li>").concat("</li>"):i<s?t.replace(r.repeat(s)+t.match(/\*|\+|-/)+" ","<ul>".repeat(s-i)+"<li>").concat("</li>"):t.replace(r.repeat(s)+t.match(/\*|\+|-/)+" ","<li>").concat("</li>"):t.replace(r.repeat(s)+t.match(/\*|\+|-/)+" ","<ul><li>").concat("</li>"),null!=o&&(l[e+1].startsWith(r.repeat(o)+l[e+1].match(/\*|\+|-/))||l[e+1].startsWith("> "+r.repeat(o)+l[e+1].match(/\*|\+|-/)))||(t=t.concat("</ul>".repeat(s+1))))),s>=0&&(t.startsWith(r.repeat(s)+t.match(/\d/))||t.startsWith("> "+r.repeat(s)+t.match(/\d/)))&&(a=!1,(t.startsWith(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". ")||t.startsWith("> "+r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". "))&&(t=null!=i&&(l[e-1].startsWith(r.repeat(i)+l[e-1].match(/\d+/)+". ")||l[e-1].startsWith("> "+r.repeat(i)+l[e-1].match(/\d+/)+". "))?i>s?t.replace(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". ","</ol>".repeat(i-s)+"<li>").concat("</li>"):i<s?t.replace(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". ","<ol>".repeat(s-i)+"<li>").concat("</li>"):t.replace(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". ","<li>").concat("</li>"):t.replace(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+". ","<ol><li>").concat("</li>"),null!=o&&(l[e+1].startsWith(r.repeat(o)+l[e+1].match(/\d/))||l[e+1].startsWith("> "+r.repeat(o)+l[e+1].match(/\d/)))||(t=t.concat("</ol>".repeat(s+1)))),t!==r.repeat(s)+t.match(/\d/)&&t!=="> "+r.repeat(s)+t.match(/\d/)||(t=t.replace(r.repeat(s)+t.match(/\d/),"")),t!==r.repeat(s)+(t.match(/\d+/)||[[]])[0]+"."&&t!=="> "+r.repeat(s)+(t.match(/\d+/)||[[]])[0]+"."||(t=t.replace(r.repeat(s)+(t.match(/\d+/)||[[]])[0]+".",""))),t=t.trim();for(let e=6;e>0;e--){let r="#".repeat(e);if(t.startsWith(r)||t.startsWith("> "+r)){if(t.startsWith(r+" ")||t.startsWith("> "+r+" ")){t=t.replace(r+" ","<h"+e+">"),t=t.concat("</h"+e+">"),a=!1;break}t!==r&&t!=="> "+r||(t=t.replace(r,""))}a=!0}let n=">",m=">>";if(t.startsWith(n)){if(a=!1,t.startsWith(n+" ")){t=t.replace(n+" ","<blockquote><p>");let a=2,r=1,c=!0;for(;l[e+a]&&l[e+r].trim()===n&&l[e+a].startsWith(n+" ");)c?(t=t.concat(l[e+a].replace(n,"</p><p>")),c=!1):t=t.concat(l[e+a].replace(n,"<p>")),t=t.concat("</p>"),l[e+a]="",l[e+r]="",r+=2,a+=2;for(;l[e+a]&&l[e+r].trim()===n&&l[e+a].startsWith(m+" ");)c?(t=t.concat(l[e+a].replace(m,"</p><blockquote><p>")),c=!1):t=t.concat(l[e+a].replace(m,"<blockquote><p>")),t=t.concat("</p></blockquote>"),l[e+a]="",l[e+r]="",r+=2,a+=2;t=c?t.concat("</p></blockquote>"):t.concat("</blockquote>")}t===n&&(t=t.replace(n,"")),t===m&&(t=t.replace(m,""))}let u=[["***","strong","em"],["___","strong","em"],["__*","strong","em","*__"],["**_","strong","em","_**"],["__","strong"],["**","strong"],["_","em"],["*","em"]];for(u.forEach(e=>{t=c(t,...e)}),a&&t&&(t="<p>"+t+"</p>");t.includes("  ");)t=t.replace("  ","<br/>");t&&p.push(t)}),p.join(e)}function md(t){return t}